<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <style>
            
        </style>
    </head>
    <body>
        <p>Rock Paper Scissors</p>

        <button
            onclick = "
                playGame('Rock')
            ">
            Rock
        </button>

        <button
            onclick = "
                playGame('Paper');
            ">
            Paper
        </button>


        <button
            onclick = "
                playGame('Scissors');
            ">
            Scissors
        </button>

        <button 
            onclick="
                score.wins=0;
                score.ties=0;
                score.losses=0;
                localStorage.removeItem('score');
                alert('Score reset');">
                
            Reset Button
        </button>

        <script>
                let score = JSON.parse(localStorage.getItem('score'))
                ||  {
                        wins : 0,
                        losses : 0,
                        ties : 0
                    };
                
                /*
                if(!score){
                    score = {
                        wins : 0,
                        losses : 0,
                        ties : 0
                    };
                }*/
                
            function playGame(playerMove){

                const compMove = predictCompNum();
                let result = '';

                if(playerMove === 'Scissors'){
                    
                    if(compMove === 'Scissors'){
                        result = 'tie';
                    }
                    else if(compMove === 'Rock'){
                        result = 'Lose';
                    }
                    else{
                        result = 'Win';
                    }
                }

                else if(playerMove === 'Paper'){
                    
                    if(compMove === 'Paper'){
                        result  = 'tie';
                    }
                    else if(compMove === 'Scissors'){
                        result  = 'Lose';
                    }
                    else{
                        result  = 'Win';
                    }
                }

                else{

                    if(compMove === 'Rock'){
                        result = 'tie';
                    }
                    else if(compMove === 'Paper'){
                        result = 'Lose';
                    }
                    else{
                        result = 'Win';
                    }
                        }

                if(result === 'Win'){
                    score.wins +=1;
                }
                else if(result === 'Lose'){
                    score.losses +=1;
                }
                else{
                    score.ties+=1;
                }

                alert(`You choose ${playerMove} , Comp pick ${compMove} so result is ${result}
                Wins : ${score.wins} || Losses : ${score.losses} || Ties : ${score.ties}`);

                localStorage.setItem('score',JSON.stringify(score));
            }

            

            function predictCompNum(){

                let compMove1 = '';
                
                let randomnumber = Math.random();

                if(randomnumber>=0 && randomnumber<1/3){
                    compMove1 = 'Rock';
                }
                else if(randomnumber>=1/3 && randomnumber<2/3){
                    compMove1 = 'Paper';
                }
                else{
                    compMove1 = 'Scissors';
                }

                return compMove1;
            }
            
        </script>
    </body>
</html>